# 2024年预期产出

> 本周期内预计持续完善Mono的RISC-V 支持。尝试打包 RISC-V 的 runtime安装包 ，并且尝试帮助／推进runtime 建立对于在 RISC-V 上Native构建Mono的的二进制文件支持。

## 实现Mono的RISC-V支持
 - 目标：使用仓库dotnet/samples测试并验证Mono RISC-V 的实现。dotnet/samples中涉及基本的命令行程序，corelib的大部分函数，roslyn-sdk, Web应用程序，并行程序，机器学习等相关程序。可以较为全面的测试Mono实现的正确性。dotnet/samples中共有程序大约166个，目前已通过验证的程序有60个，程序数量为粗略估计，可能会随着测试过程增加/减少。其中有些应用程序可能不被RISC-V支持，例如Windows Plantform相关。具体时长可能会随着验证进度被缩短/增加

 - 交付：
   1. 向上游（dotnet/runtime）提交Mono后端RISC-V支持的PR 
   2. 一个列表，其中列举了dotnet/samples中可以在Mono RISC-V运行的程序，不能运行的程序及原因

 - 验收指标： 列表中的大部分程序都可以在qemu上面使用Mono RISC-V运行，不能运行的程序明确原因。
 - 周期：2-3 个月

## 尝试打包 RISC-V 的runtime安装包
 > 预期可能需要使用微软/dotnet提供一些闭源的二进制工具集？ 因此可能需要上游的指导。
 - 目标：尝试编译并且打包以Mono RISC-V为后端的dotnet安装包。

 - 交付：
   1. 一个类似`dotnet-sdk-<version>-linux-riscv64.tar.gz`的压缩包，其中应包括dotnet程序以及相关运行库，.Net Runtime library，.Net SDKs 以及安装脚本等。
   2. 与上游沟通并将安装包发布在`https://dotnetcli.azureedge.net/dotnet/Sdk/<version>`

 - 验收指标： dotnet可以直接被`dotnet-install.sh`解压并安装在RISC-V设备或qemu-system中
 - 周期：1-2个月

## 实现RISC-V上Native构建dotnet/runtime
 - 先决条件： 拥有一个可以在RISC-V设备/qemu-system中独立安装的安装包。Mono RISC-V可以正确运行roslyn。

 - 目标：在RISC-V设备或qemu-system中构建并打包dotnet安装包。

 - 交付：向上游（dotnet/runtime）提交PR修复运行roslyn时Mono RISC-V出现的Bug
 - 验收指标：可以在`qemu-system-riscv64`编译打包dotnet安装包，如有可能，设置RISC-V的CI
 - 周期：1-2个月

## 在RISC-V运行图形程序
 - 目标：尝试在RISC-V开发板/qemu-system上使用Mono运行图形程序，例如星露谷物语。
 - 交付：向上游（dotnet/runtime）提交PR修复运行图形程序时Mono RISC-V出现的Bug
 - 验收指标：可以在`qemu-system-riscv64`运行图形程序如游戏星露谷物语
 - 周期：2-3个月
